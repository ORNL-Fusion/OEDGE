<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
  <head>
    <title>DIVIMP Optional DIVIMP Input Reference Manual</title>


<!--    <LINK REL=STYLESHEET TYPE="text/css" HREF="divdocs.css" TITLE="Style"> -->

    <STYLE TYPE="text/css">


        BODY { color:black; 
               background:white }

        A:link  { color:blue; 
                  text-decoration: none;
                  font-weight:normal}
                  
        A:active { color:green; 
                   text-decoration: none;
                   font-weight:bold}
                   
        A:visited{ color:red; 
                   text-decoration: none;
                   font-weight:normal}`
                   
	
	H1 { font-weight:bold;
             font-style:italic; 
             text-align:center;
             color:red }

	H2 { font-weight:bold;
             color:green}
	
	H3 { font-weight:bold;
	     color:crimson}
               

	.c1 { color:green;
	      font-weight:bold}

        .c2 { color:green;
              font-weight:bold;
              font-size:larger;
              font-style:italic; 
              text-align:center
              }


    </STYLE>


  </head>


  <body>


    <h1>DIVIMP Optional Input - Reference Manual</h1>


<p>This document contains descriptions of optional DIVIMP input items.
These inputs may or may not be present in a given DIVIMP input file. When not
present these options are assigned default values automatically. These 
values are assigned in the InitializeVariables subroutine in the setup.d6a 
module. </p>

<p>The descriptions for each option include the default value assigned when the 
option is not explicitl;y specified. They also include a summary of
what the options do and when their use is required. In general, these input 
options are usually only required to activate specific features or to 
specify the characteristics of such a feature. Most input that is fundamental
to the simulation itself must be explicitly specified. This method helps to
ensure that the user is aware of the input to the code and can be reasonably
confident that the code is operating in the expected fashion. </p>


<DIV ID=toc> 


<P><B><FONT SIZE="4">Table of Contents</FONT></B></P>

<PRE>

EIRENE Related Optional Input Values
        
<A HREF="#066"><FONT CLASS=c1>066</font> I flex  4 (30-SOL22 output on)</A>
<A HREF="#026"><FONT CLASS=c1>026</font> PIN selection  0-NIMBUS 1-EIRENE97 2-EIRENE99 </A>
<A HREF="#010"><FONT CLASS=c1>010</font> Geometry data  0-standard 1-from DIVIMP     </A>
<A HREF="#021"><FONT CLASS=c1>021</font> Input file     0-standard 1-from DIVIMP  </A>
<A HREF="#020"><FONT CLASS=c1>020</font>   Run time (CPU seconds)                  </A>
<A HREF="#022"><FONT CLASS=c1>022</font>   Material: target  1-Mo 2-C 3-W 4-Be      </A>
<A HREF="#024"><FONT CLASS=c1>024</font>             wall                            </A>
<A HREF="#011"><FONT CLASS=c1>011</font>   Grid type     0-structured 1-generalized  </A>
<A HREF="#018"><FONT CLASS=c1>018</font>   Wall data     0-standard   1-seamless      </A>
<A HREF="#019"><FONT CLASS=c1>019</font>   Debug option  0-off                       </A>
<A HREF="#e11"><FONT CLASS=c1>E11</font> n-n collisions  0-off 1-standard mesh       </A>
<A HREF="#e12"><FONT CLASS=c1>E12</font> Lyman alpha opacity  0-off 1-rec 2-rec&ion  </A>
<A HREF="#e14"><FONT CLASS=c1>E14</font> CX D2+ production  0-off 1-Dalpha only 2-full </A>
<A HREF="#e15"><FONT CLASS=c1>E15</font> Proton-D2 collisions  0-off 1-on             </A>
<A HREF="#e15"><FONT CLASS=c1>E21</font> Range for EIRENE particle track output    </A> 
<A HREF="#e16"><FONT CLASS=c1>E16</font> 1.0 EIRENE neutral puffing surface data: </A>                 
<A HREF="#058"><FONT CLASS=c1>058</font> 1.1 Pressure gauge specification:</A>
<A HREF="#076"><FONT CLASS=c1>076</font> 1.0 Surface properties:</A>
<A HREF="#077"><FONT CLASS=c1>077</font> 1.0 Additional surfaces:</A>
<A HREF="#079"><FONT CLASS=c1>079</font> 1.0 Plasma data for uniform private flux zone:'</A>
<A HREF="#030"><FONT CLASS=c1>030</font> Relaxation option  0-OFF 1-N/A 2-BC 3-N/A  </A>
<A HREF="#031"><FONT CLASS=c1>031</font> PIN source relaxation fraction     </A>
<A HREF="#034"><FONT CLASS=c1>034</font> Number of steps for BC relaxation  </A> 
<A HREF="#035"><FONT CLASS=c1>035</font> Number of iterations at each step  </A>
<A HREF="#036"><FONT CLASS=c1>036</font> Pace setting for BC relaxation    </A>
<A HREF="#045"><FONT CLASS=c1>045</font> Region for boundary values      </A>
<A HREF="#080"><FONT CLASS=c1>080</font> 1.1 Step option value over-rides:</A>
<A HREF="#081"><FONT CLASS=c1>081</font> 1.1 INNER (CMOD,DIIID OUTER) target BC relaxation:</A>
<A HREF="#082"><FONT CLASS=c1>082</font> 1.1 OUTER (CMOD,DIIID INNER) target BC relaxation:</A>




DIVIMP Related Optional Input Values


<A HREF="#078"><FONT CLASS=c1>078</font> Target data shift  JET-i/o CMOD,DIIID-o/i (m)</A>
<A HREF="#282"><FONT CLASS=c1>282</font> Extended Momentum loss option </A>
<A HREF="#a05"><FONT CLASS=c1>A05</font> Electron Density Option     Default = 0 </A>
<A HREF="#a06"><FONT CLASS=c1>A06</font> Write JET TRAN file 0=off 1=on  </A>
<A HREF="#c21"><FONT CLASS=c1>C21</font> PINQE Power multiplier for the Dperp/Xperp Extractor </A>
<A HREF="#c22"><FONT CLASS=c1>C22</font> Line profile analysis option 0=off 1=on </A>
<A HREF="#f11"><FONT CLASS=c1>F11</font> Uedge Background plasma option    Default = 0 </A>
<A HREF="#f12"><FONT CLASS=c1>F12</font> Fluid code: Overall target condition extraction option  </A>
<A HREF="#f13"><FONT CLASS=c1>F13</font> Fluid code: Target Ne extraction option  </A>
<A HREF="#f14"><FONT CLASS=c1>F14</font> Fluid code: Target Te extraction option  </A>
<A HREF="#f15"><FONT CLASS=c1>F15</font> Fluid code: Target Ti extraction option  </A>
<A HREF="#f16"><FONT CLASS=c1>F16</font> Fluid code: Target Vb extraction option  </A>
<A HREF="#f17"><FONT CLASS=c1>F17</font> Fluid code: Velocity (Vb) Storage method  </A>
<A HREF="#g34"><FONT CLASS=c1>G34</font> Machine ID Specifier for TRAN file      </A>
<A HREF="#g35"><FONT CLASS=c1>G35</font> SHOTID specifier for case identification      </A>
<A HREF="#g36"><FONT CLASS=c1>G36</font> Parallel ion transport reflection at grid break    </A>
<A HREF="#i24"><FONT CLASS=c1>I24</font> Initial ION location and recycling opt 0=off 1=on     </A>
<A HREF="#i25"><FONT CLASS=c1>I25</font> Far Periphery Neutral Ionization Option    </A>
<A HREF="#i26"><FONT CLASS=c1>I26</font> Far Periphery Plasma Option    </A>
<A HREF="#i27"><FONT CLASS=c1>I27</font> Far Periphery Te       </A>
<A HREF="#i28"><FONT CLASS=c1>I28</font> Far Periphery Ne      </A>
<A HREF="#p60"><FONT CLASS=c1>P60</font> Density Gradient Option     Default = 0</A>
<A HREF="#q42"><FONT CLASS=c1>Q42</font> Imposed Sheath Temperature for Sputtering - INNER JET/OUTER SONNET    </A>
<A HREF="#q43"><FONT CLASS=c1>Q43</font> Imposed Sheath Temperature for Sputtering - OUTER JET/INNER SONNET    </A>
<A HREF="#r13"><FONT CLASS=c1>R13</font> Additional SOL21 parameter data - INNER JET/OUTER SONNET    </A>
<A HREF="#r14"><FONT CLASS=c1>R14</font> Additional SOL21 parameter data - OUTER JET/INNER SONNET    </A>
<A HREF="#s22"><FONT CLASS=c1>S22</font> Debug Impurity Neutral Velocity Option      </A>
<A HREF="#s23"><FONT CLASS=c1>S23</font> Maximum Energy for Impurity Neutral velocity debugging bins     </A>
<A HREF="#s24"><FONT CLASS=c1>S24</font> Number of bins for Impurity Neutral velocity debugging    </A>
<A HREF="#t19"><FONT CLASS=c1>T19 to T27</font> REISER Transport option: Individual Force Option Flags </A>
<A HREF="#w01"><FONT CLASS=c1>W01</font> Wall plasma calculation option     </A>
<A HREF="#w02"><FONT CLASS=c1>W02</font> Wall plasma calculation scaling/decay length factor    </A>

</pre>								    

</DIV>

    <h1>DIVIMP Optional Input - Reference Manual</h1>


<H1> EIRENE Related Optional Input Values </H1>



<H2> <a name="066"> *066 I flex  4 (30-SOL22 output on)</A></H2>

'*066 I flex  4 ( 30-SOL22 output on)                '    30     IFLEXOPT(4) (0)



<H2> <a name="026">*026 PIN selection  0-NIMBUS 1-EIRENE97 2-EIRENE99 </A></H2>

'*026 PIN selection  0-NIMBUS 1-EIRENE97 2-EIRENE99  '     2     PINCODE     (1)




<H2> <a name="010">*010 Geometry data  0-standard 1-from DIVIMP     </A></H2>

'*010 Geometry data  0-standard 1-from DIVIMP        '     1     EIRGEOM




<H2> <a name="021">*021 Input file     0-standard 1-from DIVIMP  </A></H2>

'*021 Input file     0-standard 1-from DIVIMP        '     1     EIRDATA




<H2> <a name="020">*020   Run time (CPU seconds)                  </A></H2>

'*020   Run time (CPU seconds)                       '   300     EIRTIME




<H2> <a name="022">*022   Material: target  1-Mo 2-C 3-W 4-Be      </A></H2>

'*022   Material: target  1-Mo 2-C 3-W 4-Be          '     2     EIRMAT1





<H2> <a name="024">*024             wall                            </A></H2>

'*024             wall                               '     2     EIRMAT2




<H2> <a name="011">*011   Grid type     0-structured 1-generalized  </A></H2>

'*011   Grid type     0-structured 1-generalized     '     0     EIRGRID




<H2> <a name="018">*018   Wall data     0-standard   1-seamless      </A></H2>

'*018   Wall data     0-standard   1-seamless        '     1     EIRNEUT




<H2> <a name="019">*019   Debug option  0-off                       </A></H2>

'*019   Debug option  0-off                          '     0     EIRDEBUG




<H2> <a name="e11">*E11 n-n collisions  0-off 1-standard mesh       </A></H2>

'*E11 n-n collisions  0-off 1-standard mesh          '     1     EIRBGK      (0)




<H2> <a name="e12">*E12 Lyman alpha opacity  0-off 1-rec 2-rec&ion  </A></H2>

'*E12 Lyman alpha opacity  0-off 1-rec 2-rec&ion     '     0     EIROPACITY  (0)




<H2> <a name="e14">*E14 CX D2+ production  0-off 1-Dalpha only 2-full </A></H2>

'*E14 CX D2+ production  0-off 1-Dalpha only 2-full  '     0     EIRCXD2     (0)




<H2> <a name="e15">*E15 Proton-D2 collisions  0-off 1-on             </A></H2>

'*E15 Proton-D2 collisions  0-off 1-on               '     1     EIRPH2      (0)


<H2> <a name="e21">*E21 Range for EIRENE particle track output    </A> </H2>

'*E21 Range for EIRENE particle track output         '     1    100



<H2> <a name="e16">*E16 1.0 EIRENE neutral puffing surface data: </A></H2>                 


'*E16 1.0 EIRENE neutral puffing surface data: ' 
' ' '     (dummy line) '
' Type  Amount   Type      x1      y1      x2      y2'     0     EIRNPUFF    (0)


<H2> <a name="058">*058 1.1 Pressure gauge specification:</A></H2>

'*058 1.1 Pressure gauge specification:'
' ' '     (dummy line) '
' Code   x0(m)  y0(m)  tor(deg) rad(m) len   p(mTorr)'     2     EIRNPGDAT
  101.0  1.880 -1.245  -1.0     0.060  -1.0  0.23                PBF1 pump chamber
  104.0  1.408 -1.386  -1.0     0.008  -1.0  0.40                PV1  private zone


<pre>

 The pressure gauges are represented in EIRENE by toroidal
 cylinders.  Their geometry is specified as follows:

 Y0   (m)       - x coordinate of the center of the poloidal
                  cross-section (R space in DIVIMP)
 Y0   (m)       - y coordinate  (Z space in DIVIMP)
 TOR  (degrees) - toroidal location (not in use as the cylinders
                  are toroidally continuous at the moment)
 RAD  (m)       - cylinder radius
 LEN            - length of cylinder (not in use)

 Other input:

 CODE           - Pressure gauge designation for use in DIVIMP
                  output.  For DIII-D:
                    101.0   PBF1       pump chamber
                    102.0   PBF2
                    103.0   PBF3
                    104.0   PV1        PFZ
                    105.0   PR2        above baffle
                    106.0   VPLOWS     midplane
                    107.0   PCM105BAF
                    108.0   PCM240TOR
 P    (mTorr)   - Experimental pressure measurement for use in
                  DIVIMP output.
</pre>





<H2> <a name="076">*076 1.0 Surface properties:</A></H2>

'*076 2.0 Surface properties:'
' ' '     (dummy line) '
' Type Index ILIIN ILSIDE ILSWCH   TRANSP1 TRANSP2   '     4
  1.0  20.0  -1.0  0.0    020010.0 99.0    99.0
  1.0  21.0  -1.0  0.0    020010.0 99.0    99.0
  1.0  22.0  -1.0  0.0    020010.0 99.0    99.0
  1.0  23.0  -1.0  0.0    020010.0 99.0    99.0

<p> In order for EIRENE to include vessel structures that are attached to
 the main chamber "through" target segments (the pump chamber on
 DIII-D for example), the default surface options in the EIRENE input file
 must be changed for these target segments.  The following input list allows
 the EIRENE options for selected surfaces to be specified (only applies
 when DIVIMP is used to write the EIRENE input file -- see DIVIMP
 option EIRDATA).</p>

<pre>

 TYPE    - Type of surface (in DIVIMP):
             1.0 - target segment
             2.0 - wall segment (not yet implimented)
 INDEX   - For TYPE = 1.0:
             The ring number that the target segment is on.
             If 'index' is < 0, then the low cell index
             target is modified (outer target for JET; inner target for
             C-MOD, DIII-D), otherwise it is the high cell index target.
           For TYPE = 2.0:
             Index of the wall segment in the xVESM arrays.
 ILIIN   - see EIRENE manual
 ILSIDE  -
 IKSWCH  -
 TRANSP1 -
 TRANSP2 -

</pre>




<H2> <a name="077">*077 1.0 Additional surfaces:</A></H2>

<pre>
'*077 1.0 Additional surfaces:'
' ' '     (dummy line) '
' Type  vt1  x1(m)   y1(m)    vt2   x2(m)   y2(m)    '    13
  2.0   2.0  23.0    3.0      1.0  1.6747 -1.3000 
  2.0   1.0  1.6747 -1.3000   1.0  1.6747 -1.3237   
  2.0   1.0  1.6747 -1.3237   1.0  1.6920 -1.3390   
  2.0   1.0  1.6920 -1.3390   1.0  1.7920 -1.3390  
  2.0   1.0  1.7920 -1.3390   1.0  1.7920 -1.2340
  2.0   1.0  1.7920 -1.2340   1.0  1.8100 -1.1970
  2.0   1.0  1.8100 -1.1970   1.0  2.1270 -1.0130
  2.0   1.0  2.1270 -1.0130   1.0  2.1620 -1.0410
  2.0   1.0  2.1620 -1.0410   1.0  1.8410 -1.4230
  2.0   1.0  1.8410 -1.4230   1.0  1.7540 -1.4230
  2.0   1.0  1.7540 -1.4230   1.0  1.7540 -1.3660
  2.0   1.0  1.7540 -1.3660   1.0  1.6920 -1.3660
  2.0   1.0  1.6920 -1.3660   2.0  20.0    4.0

</pre>

<p> The wall segments for vessel structures "behind" the targets
 is entered below.  At the moment, this data is added to the
 xVESM arrays when the EIRENE input file is written, so it only
 appears on 2D grid plots if EIRENE is actually being called.
 Each segment consists of two end points.  Description of input: </p>

<pre>

 TYPE  - Segment type:
           1.0 - not implimented
           2.0 - DIVIMP wall segment
 VT    - Vertex (end point) type:
           1.0 - Standard R,Z coordinate given by X,Y.
           2.0 - Use cell vertex data from the DIVIMP grid, where
                 ABS(X) is the ring and if X < 0 then use vertex
                 Y of the first cell on the ring, otherwise use
                 vertex Y on the last cell of the ring.
 X,Y   - see VT

</pre>


<H2> <a name="079">*079 1.0 Plasma data for uniform private flux zone:</A></H2>


<pre>
'*079 1.0 Plasma data for uniform private flux zone:'
' ' '     (dummy line) '
' Ring  Region  Te (eV)  Ti (eV)  ne (m-3)  v (m s-1)'     8     OSMPPV
  26.0     3.0     3.5      3.5    0.7E+19       0.0
  27.0     3.0     3.5      3.5    1.0E+19       0.0
  28.0     3.0     3.5      3.5    1.0E+19       0.0
  29.0     3.0     3.5      3.5    2.0E+19       0.0
  30.0     3.0     7.0      7.0    3.5E+19       0.0
  31.0     3.0    15.0     15.0    3.5E+19       0.0
  32.0     3.0    16.0     16.0    3.5E+19       0.0
  33.0     3.0    19.0     19.0    3.5E+19       0.0
</pre>


<H2> <a name="030">*030 Relaxation option  0-OFF 1-N/A 2-BC 3-N/A  </A></H2>

'*030 Relaxation option  0-OFF 1-N/A 2-BC 3-N/A      '     0     REL_OPT


<H2> <a name="031">*031 PIN source relaxation fraction     </A></H2>

'*031 PIN source relaxation fraction                 '    1.00   REL_FRAC


<H2> <a name="034">*034 Number of steps for BC relaxation  </A></H2> 

'*034 Number of steps for BC relaxation              '     1     REL_NSTEP


<H2> <a name="035">*035 Number of iterations at each step  </A></H2>

'*035 Number of iterations at each step              '     5     REL_NITER


<H2> <a name="036">*036 Pace setting for BC relaxation    </A></H2>

'*036 Pace setting for BC relaxation                 '    1.0    REL_PACE



<H2> <a name="045">*045 Region for boundary values      </A></H2>

'*045 Region for boundary values                     '  0.0 0.0  REL_BOUND1,2



<H2> <a name="080">*080 1.1 Step option value over-rides:</A></H2>

'*080 1.2 Step option value over-rides:'
' ' '     (dummy line) '
'Step   TeMi  TeMi  JsatMi    TeMo  TiMo  JsatMo     LIsh   HIsh '  0

<p> The version designation of 1.1 or 1.2 ... is important in some way. </p>


<H2> <a name="081">*081 1.1 INNER (CMOD,DIIID OUTER) target BC relaxation:</A></H2>


'*081 1.1 INNER (CMOD,DIIID OUTER) target BC relaxation:'
' ' '     (dummy line) '
'Ring    Te1   Ti1  Ne1/Isat1     Te2   Ti2  Ne2/Isat2'    0



<H2> <a name="082">*082 1.1 OUTER (CMOD,DIIID INNER) target BC relaxation:</A></H2>


'*082 1.1 OUTER (CMOD,DIIID INNER) target BC relaxation:'
' ' '     (dummy line) '
'Ring    Te1   Ti1  Ne1/Isat1     Te2   Ti2  Ne2/Isat2'    0






<H1> DIVIMP Related Optional Input Values </H1>



<H2> <a name="078">*078   Target data shift  JET-i/o CMOD,DIIID-o/i (m)</A></H2>
' -0.010 -0.010  TARSHIFT (0.0)

<P> Shift the target probe data that is read from the DIVIMP input file (the
 LPDATO AND LPDATI arrays) by the specified amount.  A positive shift
 moves the data outward (generally in the direction of increasing major
 radius) along the target.  The default for both quantities is 0.0. </P>

<pre>

'*078   Target data shift  JET-i/o CMOD,DIIID-o/i (m)'  0.000  0.000  TARSHIFT (0.0)

</pre>




<H2> <a name="282">*282 Extended Momentum loss option (header)  </A></H2>

<p> This options specifies the ffric momentum loss values for SOL22 on a ring by 
ring basis for both targets. The format of the input is IR FFRIC1 FFRIC2.
FFRIC1 applies to the first half ring - this would be the OUTER half ring for X-point 
up grids and the INNER half for X-point down grids. This may also
be designated target 2. FFRIC2 applies to the second half of the ring.      
Note that the tag line precedes a standard DIVIMP array input of three lines. </p>

<pre>

'*282 Extended Momentum loss option (header)         '
' ' ' Extended Momentum loss option Input Data       '
'    Number of lines of input  IR TARG2 TARG1        '    17
   14     1.0    1.7
   15     1.0    1.7
   16     1.0    1.7
   17     1.0    1.5
   18     1.0    1.5
   19     1.0    1.4
   20     1.0    1.3
   21     1.0    1.3
   22     1.0    1.1
   23     1.0    0.9
   24     1.0    0.8
   25     1.0    0.7
   26     1.0    0.6
   27     1.0    0.6
   28     1.0    0.5
   29     1.0    0.5
   30     1.0    0.3

</pre>




<H2> <a name="a05">*A05 Electron Density Option     Default = 0 </A></H2>

<P> This option controls the method used to define the electron desnsity as used in DIVIMP. Option 0,
 the deafult, uses the standard method of assuming that ne = nh. In other words, the impurity
content is assumed to be a trace and has little effect on the overall electron density. </P>

<P> If this option is set to 1 - the code assumes that a fluid code result has also been 
specified in the input file and the electron density that DIVIMP uses is extracted from the 
fluid code result as the following sum: ne = nh + sigma [(iz=1,Maxiz) iz * Niz ] where Niz is the
impurity density in each charge state as taken from the fluid code result. </P>

<pre>

'*A05 Electron Density Option                        '     0

</pre>




<H2> <a name="a05">*A06 Write JET TRAN file 0=off 1=on </A></H2>

<p> This option turns on the writing of a JET TRAN file for POST-PROCESSOR use.
This is written to Unit 41. The default value is 1 or ON. </p>

<pre>
'*A06 Write JET TRAN file 0=off 1=on            '     1
</pre>





<H2> <a name="c21">PINQE Power multiplier for the Dperp/Xperp Extractor </A></H2>

<p> This option specifies the value of the PINQE multiplier for the Dperp extractor.
This value is usually 1.0 - however, by allowing for this multiplier it is possible to 
include a factor for impurity radiated power when this information is not available.</p>

<pre>
'*C21 PINQE Power multiplier for the Dperp/Xperp Extractor  '   1.0
</pre>



<H2> <a name="c22"> Line profile analysis option 0=off 1=on  </A></H2>

<p>This option will turn on the calculation of the emission line profile for 
a specified line of the impurity neutral species. It calculates the expected
shift in the wavelength of the profile due to the doppler effect relative to 
a specified viewing location and viewing cone. Only emission within the cone
is included in the calculation. There are a number of parameters required 
in order to specify both the line to be calculated and the viewing location.
The lines of additional input MUST immediately follow this option.
 </p>

<p>The first line contains a set of ADAS selectors in the standard 
format. </p>

<pre>
'Text'   'ADASID'  ADASYR 'ADAS EXTENSION'  ISELE ISELR ISELX ISELD
- only ISELE is used at the present time. 
</pre>

<p>The second input line defines the LOS for the calculation and 
the instrument and bin characteristics.</p>

<pre>
'Text'  ROBS  ZOBS  THETA  DTHETA INSTRUMENT_WIDTH BIN_WIDTH
</pre>

<p>No default values are assigned to any sub-options when this 
option is off - all options MUST be specified when it is on. </p>

<pre>
'*C22 Line profile analysis option 0=off 1=on        '     1
'*000 ADAS data CI-9100'  '*' 93  'pju' 27   80   0   0   
'*000 Single View Above launch'    2.082    1.495   258.23  0.55  0.1  0.025
</pre>





<H2> <a name="f11">*F11  Uedge Background plasma option    Default = 0 </A></H2>

<P> This option is used when trying to reproduce a UEDGE fluid code result using DIVIMP. The default
value of zero turns this option off. When set to a value of 1 there are two additional calculations performed
in DIVIMP. First, the hydrogenic fluxes onto each segment of the wall are calculated by taking the UEDGE 
neutral hydrogen content in each cell adjacent to the wall and using the equation Fw = 0.25 Natom * Vatom. 
The value of Vatom is calculated based on the local temperature in the cell. This calculation is only 
performed for <a href="divref.html#neutwa> Wall Option 7 </a> which sets the actual wall to the outermost
polygon boundary. (This option matches the wall used in UEDGE calculations.) The second action taken by this
option tells the launch calculations in NEUT to use the wall fluxes that have been calculated in exactly
the way a PIN reported wall flux would be used. </P>

<p>In addition, when activated, this option loads the fluid code ionization data into 
the appropriate PIN arrays. </p>

<pre>
'*F11  Uedge Background plasma option                '         0
</pre>




<H2> <a name="f12">*F12 Fluid code: Overall target condition extraction option     </A></H2>


<p> This option affects the calculation  of the target conditions 
that are extracted from the background plasma
of a fluid code solution. This affects the values that are assigned
to the e2dtarg array at the point when the plasma solution is read in. It is composed
of several sub-options for each of ne, Te, Ti and vb which are assigned in a 
fashion appropriate for different fluid modeling codes employed at different experiments.<p>

<p> The default value assigned is option 0 which applies for the EDGE2D code </p>

<p> The sub-options are: </p>

<ul>
<li> <a href="#f13>F13 Ne target condition extraction option</a></li>
<li> <a href="#f14>F14 Te target condition extraction option</a></li>
<li> <a href="#f15>F15 Ti target condition extraction option</a></li>
<li> <a href="#f16>F16 Vb target condition extraction option</a></li>
</ul>

<p> The value supplied for this option will assign a predefined set of values for 
each of the suboptions mentioned above. The sub-option values may be over-written
by specifying them separately after the base option in the input file. </P>

<p> For each of the option values accepted by this input - these are the values assigned to
each of the sub options. </p>

<ul>
<li>
<pre>
Option 0: EDGE2D standard
          Ne calculation option  = 2
          Te calculation option  = 1
          Ti calculation option  = 2
          V  calculation option  = 0
</pre>
</li>

<li>
<pre>
Option 1: UEDGE standard  
          Ne calculation option  = 2
          Te calculation option  = 0
          Ti calculation option  = 0
          V  calculation option  = 0
</pre>
</li>

<li>
<pre>
Option 2: Base B2/Eirene standard
          Ne calculation option  = 2
          Te calculation option  = 2
          Ti calculation option  = 2
          V  calculation option  = 1
</pre>
</li>

<li>
<pre>
Option 3: Alternate B2/Eirene
          Ne calculation option  = 2
          Te calculation option  = 1
          Ti calculation option  = 1
          V  calculation option  = 1
</pre>
</li>
</ul>

<pre>
'*F12 Fluid code overall target condition  option     '     0
</pre>



<H2> <a name="f13">*F13  Fluid code: Target Ne extraction option  </A></H2>

<p> The target condition extracted from the fluid code result for use in DIVIMP is 
determined according the the specified option. </p>

<ul>
<li>  0 : Ne at the target is value in guard cell
<li>  1 : Ne at the target is arithmetic average of guard and first cell
<li>  2 : Ne at the target is the value in the first real cell
</ul>

<pre>
'*F13 Fluid code target density option                '     2
</pre>

<H2> <a name="f14">*F14  Fluid code: Target Te extraction option  </A></H2>


<p> The target condition extracted from the fluid code result for use in DIVIMP is 
determined according the the specified option. </p>

<ul>
<li>  0 : Te at the target is value in guard cell
<li>  1 : Te at the target is arithmetic average of guard and first cell
<li>  2 : Te at the target is the value in the first real cell
</ul>

<pre>
'*F14 Fluid code target electron temperature option   '     1
</pre>

<H2> <a name="f15">*F15  Fluid code: Target Ti extraction option  </A></H2>

<p> The target condition extracted from the fluid code result for use in DIVIMP is 
determined according the the specified option. </p>

<ul>
<li>  0 : Ti at the target is value in guard cell
<li>  1 : Ti at the target is arithmetic average of guard and first cell
<li>  2 : Ti at the target is the value in the first real cell
</ul>

<pre>
'*F15 Fluid code target ion temperature option        '     2
</pre>

<H2> <a name="f16">*F16  Fluid code: Target Vb extraction option  </A></H2>


<p> The target condition extracted from the fluid code result for use in DIVIMP is 
determined according the the specified option. </p>

<ul>
<li>  0 : Vb at the target is set to the value at the boudary of the fluid code solution.
<li>  1 : Vb at the target is set to the sound speed based on the temperatures derived from the other options. 
</ul>

<pre>
'*F16 Fluid code target velocity option               '     0
</pre>

<H2> <a name="f17">*F17  Fluid code: Velocity (Vb) Storage method </A></H2>

<p>B2 and B2.5 write a fort.31 file with an identical format - however
the parallel velocity arrays are different in the two cases. For 
B2 the velocity is defined on the cell edges while for B2.5 the
velocity array in this file is defined at the cell centers. This means
that the data need to be interpreted differently in the two cases. 
This option may also apply to the fluxes that are written to this
file by B2.5. The value of this option specifies the storage format in the fluid
code background plasma file attached to DIVIMP. </P>

<ul>
<li> Option 0 = plasma velocity is stored as cell boundary values in the fluid code plasma file
<li> Option 1 = plasma velocity is stored as cell center value in the fluid code plasma file
</ul>

<pre>
'*F17 Fluid code velocity format option (centre/bound)'     0
</pre>






<H2> <a name="g34">*G34 Machine ID Specifier for TRAN file             <a></H2>

<p>  This input value is used to define the machine type for 
  the purpose of placing data in the TRAN file for JET 
  post-processor use. The default value is for JET (value 0). 
  The grid type option itself is not sufficiently selective since it defines
  formats of grids that may or may not be associated with specific
  machines.</p>

<ul>
<li>    0 = jet
<li>    1 = diiid
<li>    2 = alcator (cmod)
<li>    3 = aug (asdex upgrade) 
<li>    4 = iter
<li>    5 = ignitor
<li>    6 = fire
</ul>

<pre>
'*G34 Machine ID Specifier for TRAN file             '     0
</pre>




<H2> <a name="g35">*G35 SHOTID specifier for case identification             <a></H2>

<p>This input value is used to define a shotid
for the case for cataloguing in the JET catalog
system. This must include the shot number. If the 
shot number is present in the case name then this 
value is not required - the case name may be used as
the shotid in that case. This input takes a default
value of ' '. Meaning that the shot number is expected to 
be a part of the case name. </p>

<pre>
'*G35 SHOTID specifier for case identification       '  ' '
</pre>



<H2> <a name="g36">*G36 Parallel ion transport reflection at grid break           <a></H2>

<p>This input value is used to activate parallel ion 
reflection. This will insert mirrors for parallel ion transport
at ONE parallel break in the grid along each field line. This is
used to model ion transport on double null half grids. The default
value is set to off or zero. </p>

<pre>
'*G36 Parallel ion transport reflection at grid break'     0
</pre>


<H2> <a name="i24">*I24 Initial ION location and recycling opt 0=off 1=on            <a></H2>

<p>This option affects the initial position of neutrals 
generated by ions which stike the target and subsequently recycle
as well as the initial position of ions that are formed from neutrals. 
Option 1 for neutrals uses the cross component at the time of ion impact with the target 
to estimate a more precise R,Z location for recycling neutral emission - away 
from the center of the target. For neutral ionization this option will
invoke getscross_approx to obtain an estimate of appropriate S and CROSS coordinate
values for the initial position of the ion. The default value for this option is ON (value 1) </p>

<pre>
'*I24 Initial ION location and recycling opt 0=off 1=on  '     1
</pre>



<H2> <a name="i25">*I25 Far Periphery Neutral Ionization Option           <a></H2>

<p>This option turns on the possibility of neutral
ionization within a far peripheral region - it only applies to 
wall elements which are NOT target elements. </p>

<ul>
<li> 0 = off
<li> 1 = on       
</ul>

<pre>
'*I25  Far Periphery Neutral Ionization Option       '    0
</pre>






<H2> <a name="i26">*I26 Far Periphery Plasma Option           <a></H2>

<p> This option specifies how a plasma will be
determined for the far periphery if a plasma is required. This
is directly related to option I25.</p>

<ul>
<li> 0 = plasma from nearest associated real grid cell
<li> 1 = Te from specified input, ne from grid
<li> 2 = Both Te and Ne from specified input
<ul>

<pre>
'*I26  Far Periphery Plasma Option                   '    0
</pre>



<H2> <a name="i27">*I27 Far Periphery Te              <a></H2>

<p>Default far periphery temperature if far periphery plasma option 2 has 
been selected in option I26. (Value is in eV - a default value of 10eV is 
used if none is specified) </p>

<pre>
'*I27  Far Periphery Te                              '   10.0
</pre>





<H2> <a name="i28">*I28 Far Periphery Ne             <a></H2>


<p>Default far periphery density if far periphery plasma option 2 has 
been selected in option I26. (Value is in m-3 - a default value of 1.0e18m-3 is 
used if none is specified) </p>

<pre>
'*I28  Far Periphery Ne                              '   1.0e18
</pre>




<H2> <a name="p60">*P60 Density Gradient Option     Default = 0</A></H2>

<P> This option is used in conjunction with the simple temperature gradient options in order to allow the
density along the field line to also vary. The default option of 0 specifies that the density is to 
remain constant along the field lines when these simple methods of specifying the background plasma
are used. This option has no effect when more complex <a href="divref.html#sol>SOL options</A> like 12, 13,
22 or 23 (among others) are specified. </P>

<P> If a value of 1 is specified then, when simple specifications are being used, the density along the field
line is based on the simple 2-point model and is calculated based on the following equation. </P>

<P> N(s) =  4.0 * Nt * Tet / (Te(s) + Ti(s)) </P>

<pre>
'*P60 Density Gradient Option                            '     0
</pre>





<H2> <a name="q42">*Q42 Imposed Sheath Temperature for Sputtering - INNER JET/OUTER SONNET <a></H2>


<p>Tags Q42 and Q43 specify a temperature on a ring by ring 
basis which is then used instead of the specified target temperature for
calculating the target heat flux and sputtering yields. At the 
present time these values are used directly in NEUT. Data does not need to be
specified for every ring - if no data is imposed for a specific ring the target temperature
will be used as normal.</p>

<p>The input consists of two parameters - IR TE - for each ring - INNER JET/OUTER SONNET</p>

<p>Note: the tag line precedes a standard DIVIMP array input of three lines.  </p>

<pre>
'*Q42 ' ' IMPOSED SHEATH Te VALUES:                    '
' ' ' Q42 - OUTER (SONNET) SHEATH POTENTIAL DROP       '
'   IR    TE                              '   30
 14           34.70
 15           33.23
 16           30.96
 17           28.84
 18           26.02
 19           22.74
 20           21.75
 21           19.82
 22           17.68
 23           16.12
 24           13.93
 25           12.89
 26           11.81
 27           10.69
 28           9.062
 29           8.293
 30           4.0
 31           4.0
 32           6.930
 33           6.634
 34           5.901
 35           5.776
 36           7.687
 37           7.898
 38           8.837
 39           9.271
 40           11.20
 41           17.40
 42   	      28.25
 43   	      33.66
</pre>




<H2> <a name="q43">*Q43 Imposed Sheath Temperature for Sputtering - OUTER JET/INNER SONNET  <a></H2>


<p>Tags Q42 and Q43 specify a temperature on a ring by ring 
basis which is then used instead of the specified target temperature for
calculating the target heat flux and sputtering yields. At the 
present time these values are used directly in NEUT. Data does not need to be
specified for every ring - if no data is imposed for a specific ring the target temperature
will be used as normal.</p>

<p>The input consists of two parameters - IR TE - for each ring - OUTER JET/INNER SONNET</p>

<p>Note: the tag line precedes a standard DIVIMP array input of three lines.  </p>

<pre>
'*Q43 ' ' IMPOSED SHEATH Te VALUES:                    '
' ' ' Q42 - OUTER (SONNET) SHEATH POTENTIAL DROP       '
'   IR    TE                              '   0
</pre>




<H2> <a name="r13">*R13 Additional SOL21 parameter data - INNER JET/OUTER SONNET           <a></H2>

<p>The following tags (R13,R14) are enhancements to the detached plasma 
prescription that allow for the shape of the density profile
in the first region closest to the target to be more precisely specified. This was done
to make it possible to specify profiles in this region which
correspond reasonably well to the measured Divertor Thomson
profiles. By specifying values for the following inputs - which are ONLY 
supported on a ring by ring basis
 - the density profiles in region A
of the detached plasma prescription can be more generally 
defined. the default standard behaviour is used elsewhere where this data is not available.</p>

<p>R13 - array of input data for INNER JET/OUTER Sonnet</p>

<p>The input consists of 9 parameters on each line:</p>

<pre>
IR L1A L1B NR1A NR1B TER1A TER1B TIR1A TIR1B
</pre>

<pre>
'*R13 ' 'EXTRA SOL 21 Parameter data:             '
' ' ' R13 - ADDITIONAL SOL OPTION 21 DATA         '
'   IR    L1A  L1B   NR1A  NR1B  TER1A TER1B TIR1A TIR1B'   17
   14.0   0.01  0.02   1.1   1.0  1.1    1.2   1.1   1.2 
   15.0   0.01  0.02   1.4   1.2  1.1    1.2   1.1   1.2
   16.0   0.01  0.02   1.4   1.2  1.07   1.14  1.07  1.14
   17.0   0.01  0.02   1.8   1.3  1.05   1.10  1.05  1.10
   18.0   0.01  0.02   1.8   1.3  1.05   1.10  1.05  1.10
   19.0   0.01  0.02   1.8   1.3  1.05   1.10  1.05  1.10
   20.0   0.01  0.02   1.8   1.3  1.05   1.10  1.05  1.10
   21.0   0.01  0.02   1.6   1.3  1.05   1.10  1.05  1.10
   22.0   0.01  0.02   2.3   1.3  1.05   1.10  1.05  1.10
   23.0   0.01  0.02   2.0   1.0  1.05   1.10  1.05  1.10
   24.0   0.01  0.02   2.0   1.0  1.05   1.10  1.05  1.10 
   25.0   0.01  0.02   2.0   1.0  1.05   1.10  1.05  1.10
   26.0   0.01  0.02   2.0   1.0  1.05   1.10  1.05  1.10
   27.0   0.01  0.02   2.0   1.0  1.05   1.10  1.05  1.10
   28.0   0.01  0.02   2.0   1.0  1.05   1.10  1.05  1.10
   29.0   0.01  0.02   2.0   1.0  1.05   1.10  1.05  1.10
   30.0   0.01  0.02   2.0   1.0  1.05   1.10  1.05  1.10
</pre>


<H2> <a name="r14">*R14 Additional SOL21 parameter data - OUTER JET/INNER SONNET           <a></H2>

<p>The following tags (R13,R14) are enhancements to the detached plasma 
prescription that allow for the shape of the density profile
in the first region closest to the target to be more precisely specified. This was done
to make it possible to specify profiles in this region which
correspond reasonably well to the measured Divertor Thomson
profiles. By specifying values for the following inputs - which are ONLY 
supported on a ring by ring basis
 - the density profiles in region A
of the detached plasma prescription can be more generally 
defined. the default standard behaviour is used elsewhere where this data is not available.</p>

<p>R14 - array of input data for OUTER JET/INNER Sonnet</p>

<p>The input consists of 9 parameters on each line:</p>

<pre>
IR L1A L1B NR1A NR1B TER1A TER1B TIR1A TIR1B
</pre>

<pre>
'*R14 ' 'EXTRA SOL 21 Parameter data:             '
' ' ' R14 - ADDITIONAL SOL OPTION 21 DATA         '
'   IR    L1A  L1B   NR1A  NR1B  TER1A TER1B TIR1A TIR1B'   0
</pre>





<H2> <a name="s22">*S22 Debug Impurity Neutral Velocity Option           <a></H2>

<p>Option to turn on impurity neutral Velocity/Angle flag debugging. It is OFF (value 0) by default. </p>

<pre>
'*S22 Debug Neutral Velocity Option                  '     0
</pre>





<H2> <a name="s23">*S23  Maximum Energy for Impurity Neutral velocity debugging bins           <a></H2>


<p> This is the maximum particle energy/velocity that can be binned in the impurity neutral velocity 
debugging options. The default value is 50eV.</p>

<pre>
'*S23 Maximum Energy for debugging bins              '    50.0
</pre>


<H2> <a name="s24">*S24 Number of bins for Impurity Neutral velocity debugging            <a></H2>

<p>This is the number of bins to divide the velocity distribution into when 
debugging the impurity neutral velocity. The default value is 500 bins </p>

<pre>
'*S24 Number of bins for debugging                   '    100
</pre>




<H2> <a name="t19">*T19 to T27 REISER Transport option: Individual Force Option Flags           <a></H2>

<p>The following are all switches and values related to the REISER
force implementation. T10 to T16 allow for detailed control of the
active forces while T17 is the coulomb parameter and T18 is 
a debug option to linearize the gradients at the midplane in the
case of SOL option 7. </p>

<p> All switches accept a value of 0 for OFF and 1 for ON. The master switch MUST be turned on
or else the settings of ALL of the individual force switches will be ignored. </p>

<ul>
<li> T19: Master Switch : Allow Individual Force Selection: OFF=0/ON=1
<li> T20: Frictional Force:                 OFF=0/ON=1
<li> T21: FIG Force:                        OFF=0/ON=1 
<li> T22: FVG Force:                        OFF=0/ON=1
<li> T23: Maxwellian Velocity Diffusion:    OFF=0/ON=1
<li> T24: TiGradient Velocity Diffusion:    OFF=0/ON=1
<li> T25: V-Gradient Velocity Diffusion:    OFF=0/ON=1
<li> T26: Coulomb logarithm value: Default value = 15.0   
<li> T27: Linear Peak Debug switch          OFF=0/ON=1
</ul>


<pre>
'*T19 REISER Allow Individual Force Selection: OFF=0/ON=1'    0
'*T20 REISER Frictional Force:                 OFF=0/ON=1'    0
'*T21 REISER FIG Force:                        OFF=0/ON=1'    0
'*T22 REISER FVG Force:                        OFF=0/ON=1'    0
'*T23 REISER Maxwellian Velocity Diffusion:    OFF=0/ON=1'    0
'*T24 REISER TiGradient Velocity Diffusion:    OFF=0/ON=1'    0
'*T25 REISER V-Gradient Velocity Diffusion:    OFF=0/ON=1'    0
'*T26 REISER Coulomb logarithm value                     '  15.0
'*T27 REISER Linear Peak Debug switch          OFF=0/ON=1'    0
</pre>





<H2> <a name="w01">*W01 Wall plasma calculation option            <a></H2>

<p>This option specifies the algorithm to be used
to define the plasma conditions (if any) associated with each 
element of the wall. The target elements are associated with the
target plasma conditions and are not affected by this option.</p>

<ul>
<li>0 = use plasma conditions in plasma grid cell associated with the wall element (usually closest)
<li>1 = linear decay of plasma conditions beyond last ring of plasma grid + interpolation along ring to position of wall element
<li>2 = exponential decay of plasma conditions beyond last ring + interpolation along ring to position of wall element
</ul>

<pre>
'*W01 Wall plasma calculation option - (0 to 2)      '     0
</pre>



<H2> <a name="w02">*W02  Wall plasma calculation scaling/decay length factor           <a></H2>

<p>This is a scale factor to be used in the scaling
algorithms defined by <a href=#w01>wall plasma options 1 and 2</a> (linear and exponential decay) 
The default value  is set to 0.1m. In addition, there are minimum values for wall plasma conditions specified
in the code. These could be moved to optional input if required in
the future.</p>

<pre>
'*W02 Wall plasma calculation scaling/decay length factor'   0.1
</pre>




    <address><a href="mailto:david@starfire.utias.utoronto.ca">David Elder</a></address>
<!-- Created: Tue May 30 12:08:41 EDT 2000 -->
<!-- hhmts start -->
Last modified: Thu Jun 15 22:58:13 EDT 2000
<!-- hhmts end -->

  </body>
</html>

