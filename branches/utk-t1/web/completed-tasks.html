<html>
  <head>
    <title>Summary of Completed DIVIMP Development Items</title>


   <STYLE TYPE="text/css">
     BODY     { color:black; 
                background:white }
     A:link   { color:blue; 
                text-decoration: none;
                font-weight:normal}
     A:active { color:green; 
                text-decoration: none;
                font-weight:bold}
     A:visited{ color:red; 
                text-decoration: none;
                font-weight:normal}
 
     H1       { fontWeight:bold;
                fontSize:x-large;
                textAlign:center} 
 
     H2       { font-weight:bold} 
 
     H3       { font-weight:bold; 
                color:crimson} 

     LI.p1    {color:red}   
     LI.p2    {color:orange}   
     LI.p3    {color:green}   
     LI.p4    {color:blue}   
     LI.p5    {color:purple}   

 </STYLE>


  </head>

  <body>
    <h1>List of Completed DIVIMP Development Tasks</h1>


<P> The following entries describe development items that have been added
to the DIVIMP code since the Development Task list was first adopted in 
the fall of 1999. Items are considered to be substantially 
complete by inclusion in this list, any portions of an item that may still
need to be addressed are marked in red.</p>


<OL>


<LI>DIVIMP code fixes

<UL>
<LI> Switch particle timing in the main loop to double precision 
<LI> Correct small glitch with ion parallel transport 
<LI> Alternate poloidal drift velocity implementation 
</UL>

<LI>Integrate the Reiser transport model from Peter Schwanke's code 

<LI>Integrate the code changes made at DIIID into the base code version

<LI>Integrate Steve's latest changes and options into the base code version

<LI>Web based case log and results access

<LI>Documentation update
<UL>
   <LI> Add documentation for Steven's code to the base documentation
   <LI> Add documentation for SOL23
   <LI> Add documentation for all the DIVIMP options in the last year
   <LI> Make the base documentation web accessible
</UL>


   
<LI>Code development items related to getting the current version of
   DIVIMP/Eirene to work for Asdex Upgrade - Karl's visit from
   Feb 21st to March 3rd 2000
<UL>
   <LI> Reiser code documentation and final testing
   <LI> Eirene99 with Asdex Upgrade grids, wall geometry and typical options
</UL>


<LI>Resolve issue of optional input items in the input file and decide on 
   policy for this feature for future code development. 


<LI>Filterscope geometry details


<LI>Add hydrocarbon break-up option.
    <UL> 
       <LI> Construction of code to calculate the various reaction rates.</LI>
    </UL>
</li>    


<LI>Continue re-organizing the output files splitting the impurity simulation 
    output from the OSM output.


<LI>Generate bolometry plots
<UL> 
  <LI> Using Bill Meyer's matrix implementation
  <LI class=p1> Working from actual diagnostic geometry
</UL>


<LI>DIVIMP cases
<UL>
   <LI> 2D C-III profiles for comparison to toroidal camera
   <LI> Carbon contribution to bolometer signal
   <LI> Estimate impurity radiative cooling term
   <LI> Try SOL23 case
   <LI> Try reducing the Tet values on the outside to see the effect on Dalpha etc. 
</UL>
</li>

<LI>EIRENE clean up and completion of code integration

<UL>
   <LI> P_rad_H, P_cool_H - 2D contour plots 
   <LI> Collect and print wall element fluxes near pumps  
   <LI> Print Eirene core losses and pump losses (if any) 
   <LI> Examine and correct (if necessary) calculation of EIRCOR factor 
   <LI> pass pumped flux to DIVIMP 
   <LI> hydrogenic Prad calculation (done, except for the case of 
      significant Lyman alpha opacity) 
   <LI> plots (along the ring and contour) for P_rad_H and 
      P_cool_H (easy) 
   <LI> process surface fluxes to estimate pressures
   <LI> fix problem with neutral wall option 5 
</UL>

<LI>Extract fluxes from EIRENE. 
<BR>The fluxes and average energies of D-atoms and
D-molecules onto surfaces near/at the pressure gauges and pump openings 
need to be extracted so
we can do hand checks with the p-gauge simulations directly produced by
EIRENE.

<LI>Change grid near pump opening so that the 'plasma tongue' goes into the
pump opening. (This has been done, but the grid extensions have been hardcoded into DIVIMP for each of the DIII-D grids.  That is, DIVIMP is not presently able to analyse the DIII-D grids and then see where the field lines need to be extended.  So, for the general user, this feature is not really available.) (Steve)

<LI>Turn on EIRENE n-n collisions in the voids.</LI>

<LI> On Along Ring plots, use different symbols for the DTS points that are
for the time closest to the time of interest, e.g. 1650 ms currently (the
DTS points for other times involve greater uncertainties related to EFIT
since EFIT has to be used twice for them.)</LI>

<LI> Overlay SOL22 and SOL23 solutions in Along Ring plots to make direct
comparisons.</LI>

<LI> Utilize EIRENE puffing capabilities
<BR>Something new: find out how to introduce extra puffing of deuterium
into the PFZ (which will have to be pumped away at same rate as injected)
as a way to fill in the Dalpha-valley. It's known that the walls are net
sources of neutrals for certain periods in a discharge (also net sinks at
other times) and it's been suggested that the PFZ wall may be a net source
during the flat-tops of shots, perhaps being re-filled in ramp-ups and
ramp-downs.</LI>

<LI>Add the Psin values for each ring to the print-out.

<LI>Report for Gary, Jon, etc updating the current status of DIVIMP
   modeling for shot 86575.

<LI>Additional core plasma options based on experimental input.
   <P>NOTE: The code already has core plasma condition options that 
         allow the input data for each ring in the core to be specified 
         and further allow this data to be used as the basis for a 
         MARFE type core plasma. Is more development needed? NO </P>

<LI>Turn SOL23 into user-friendly, work-horse, main-line OSM.
<UL> 
    <LI> Initial Testing
    <LI> Documentation iteration
</UL>


<LI>TN1517 supplement to Chiperp-Extractor:

<P>I'd like to add a new output related to the geometry of the separatrix
flux surface, namely its effective area for cross-field diffusive
transport, A_sep_eff. For both particle and power, the LOCAL fluxes across
the separatrix surface involve delta_A_perp/lambda, where delta_A_perp is
the element of surface area of the separatrix surface and lambda is the
density or temperature decay length at the separatrix at that element. Now
due to flux expansion, the local lambda will equal the reference lambda,
lambda_0 , times the flux expansion ratio, Del/Del_0, where Del_0 is the
cross-field separation at the reference location between the separatrix
flux tube and the next flux tube outward, and Del is the same but for the
particular surface element. Thus the effective surface area of the
separatrix surface for diffusive transport can be defined to be the sum of
delta_A_perp / (Del/Del_0), summed over all the elements of separatrix
surface. For the cylindrical approximation of a tokamak one can just use
the LENGTH of each segment of the separatrix flux line in the POLOIDAL
PLANE and multiply by 2*pi*R_o to get delta_A_perp. For the toroidal
geometry version one uses the local value of R. The reference location
should be the outside midplane.</P>


<LI> Explore how 2D plots (to compare with Max's toroidal view camera) and
filterscope profiles change as one changes the target mult factors, in
order to see if this is going to be a way that we can confirm the target
probe data.

<LI>  Compare the 4 cases of Gary's new EFITs done in the 2 different ways,
and the 2 different ways of assigning the DTS points.

<LI> Add to the standard print-outs the (R,Z) values where each Ring strikes
the targets.

<LI> To compare Max's toroidal view camera of CIII (and for new shots, of
H-lines also), we'll have the basic comparison based on simply displaying
the 2D plots from Max and from the code, side by side. However, as I
mentioned, that's hard to turn into a quantitative comparison, and Gary has
produced 'Along-R Slice Plots', at different values of Z. We can use his
expt 'Slice Plots' and compare our code ones. (You've called these
'arbitrary slice plots').
<UL> 
 <LI>Display cross-sections of DIVIMP 2D contour data
 <LI>Load the experimental 2D set of data and produce cross-section plots of 
  the expermental data - this requires a completely different routine to
 calculate the values than is used for the DIVIMP data.
</UL>



<LI> DIVIMP DEVELOPMENT ITEM: power deposition profile
<BR>We have not been interested in producing plots of the deposited heat flux
[W/m^2] because we're pretty sure we won't get very good agreement with the
infrared, IR, camera results. That attitiude, however, is as bad as Gary
just choosing to ignore the probe results. We'd better face up to the
discrepancy with the IR results and be up front about it. Trying to sweep
it under the carpet is, in the end, more discrediting than just owning up
to it, and saying it's one of the things we don't match and don't know why.
Fortunately, it's a long-standing problem on DIIID. About 10 years ago they
first established the fact that they couldn't confirm the theoretical
values of about 7 for the sheath heat transmission coeff, shtc: they
combine the IR heat flux density with the probe Isat and Te, and spit out a
shtc. They've refined that procedure over the years, but they still get
values of about 1 for the shtc near the strike point. Further out the value
rises to close to the theoretical value of about 7. A long-standing,
stubborn mystery. Anyway, we better be up front about it. 

	But to do that we have to produce code plots of deposited heat flux
density to overlay on, or just put side by side with, the expt, IR one,
e.g. Fig 2-4(a) in Gary's Memo. The code value of q_dep[W/m^2] consists of
a number of parts:

<UL>

<LI> the thermal + kinetic part carried by the e and i: we already work with
q_par and have q_par_e and q_par_i. Add them and multiply by
B_theta/B_total at the target and also multiply by the non-orthog factor,
cos(beta), where beta is the angle between the target surface and the
direction orthog to the poloidal magnetic field direction (in the poloidal
palne).

<LI> the potential energy of ei recomb on the surface. We know the deposited
particle flux density, calculated similarly to (1). Multiply by 13.6 eV.

<LI> the heat flux deposited by the neutrals. I think EIRENE spits that out
directly (?) and one doesn't use the B_theta/B_total or cos(beta) factors. 

<LI> the potential energy of atom-atom recomb on the surface. One knows the
total of the ions plus atoms as a deposited flux density (one has to be
careful to include the B_theta/B_total and cos(beta) factors for the ions
but not the atoms). One then multiplies by 2.2 eV (i.e. 4.4 eV for each
molecule created). 

<LI> photon heat load, from hydrogenic and impurity radiation. We know the
2D emissivities and by doing the appropriate spatial integrals can get out
the radiative heat loading on each element of solid surface. UEDGE includes
this. I suggest that we don't bother for a start as it's a big job.
Apparently it's only really important in detached conditions. So let's put
this on the shelf for now.

	I believe that we have already calculated all of the first 4 quantities
(?) and print out the totals integrated over all solid surfaces(?). But now
we need the q_dep as a function of location across the targets, to compare
with e.g. Gary's Fig 2-4(a). 

</UL>



    <hr>
    <address><a href="mailto:david@starfire.utias.utoronto.ca">David Elder</a></address>
<!-- Created: Tue Aug 22 16:51:11 EDT 2000 -->
<!-- hhmts start -->
Last modified: Thu Aug 24 12:11:07 EDT 2000
<!-- hhmts end -->
  </body>
</html>
